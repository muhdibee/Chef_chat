<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>
            /* *{
                border: 1px ridge;
            } */
            body{
                background-color: rgb(200, 207, 212);
                /* display: flex;
                /* justify-content: ; */
                /* flex-direction: row; */ 
            }
            #navBar{
                width: 90%;
                height: 7%;
                padding: 0.3% 5%;
                margin-bottom: 2%;
                border-bottom: 1px ridge;
                box-shadow: black;
                
                
            }
            #chatBox{
                position: relative;
                height: 70vh;
                width: 50vw;
                border: 1px ridge;
                margin: 1px auto;
                background-color: aliceblue;
            }
            #formInput{
                display: flex;
                flex-direction: row;
                padding: 2% 5%;
                width: 90%;
                position: absolute;
                bottom: 0;
                background-color: rgb(200, 207, 212);
            }
            #inputField{
                flex-grow: 2;
                width: 73%;
                height: 2rem;
                font-size: large;
            }
            #sendButton{
                /* width: 25%; */
                height: 2.4rem;
                font-size: large;
                /* padding: 10px; */
            }
            
            
            /* Styles for screens that are 900px or less*/
            @media screen and (max-width: 900px) {
                body{
                    background-color: rgb(74, 106, 129);
                }
                #chatBox{
                    height: 80vh;
                    width: 95vw;
                }
                /* #inputField{
                width: 65%;
                height: auto;
            }
            #sendButton{
                width: 20%;
                height: auto;
            } */

            }
        </style>
    </head>
    <body>
        <nav id="navBar">
            <span><h2>CHEFCHAT</h2></span>
        </nav>
        <div id="chatBox">
            <form id="chatbotForm">
                <div id="formInput">
                    <input id="inputField" type="text" placeholder="Message...">
                    <button id="sendButton" type="button">Send</button>
                </div>
            </form>
        </div>
    </body>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script>

        const socket = io();

        socket.on("connected", async (data)=>{
            const {id} = data
            console.log("Connected to server.");
            console.log({id})
        })

    </script>
    <!-- <script>
        // Establish a socket connection to the server
      const socket = io();
      
      // Query DOM elements
      const inputField = document.getElementById("inputField");
      const chatBox = document.getElementById("chatBox");
      
      // Helper function to append a message to the chat box
      function appendMessage(message, sender) {
        const messageElement = document.createElement("div");
        messageElement.classList.add("message-text", sender);
        messageElement.textContent = message;
        
        const timestamp = new Date().toLocaleTimeString(); // create timestamp
        const timestampElement = document.createElement("span"); // create span element for timestamp
        timestampElement.classList.add("timestamp");
        timestampElement.textContent = timestamp;
        
        const messageContainer = document.createElement("div");
        messageContainer.classList.add("message-container");
        messageContainer.appendChild(messageElement);
        messageContainer.appendChild(timestampElement);
        chatBox.appendChild(messageContainer);
        chatBox.scrollTop = chatBox.scrollHeight;
      }
      
      // Handle sending messages
      function sendMessage() {
        const message = inputField.value.trim();
        if (message === "") {
          return;
        }
        appendMessage(message, "user");
        socket.emit("user-message", message);
        inputField.value = "";
      }
      
      // Handle receiving messages from the server
      socket.on("bot-message", (message) => {
        appendMessage(message, "bot");
      });
      
      // Attach event listeners
      document.querySelector("form").addEventListener("submit", (event) => {
        event.preventDefault();
        sendMessage();
      });
      
      document.getElementById("sendButton").addEventListener("click", sendMessage);
      
      document.getElementById("inputField").addEventListener("keydown", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          sendMessage();
        }
      });
      
      </script> -->

</html>